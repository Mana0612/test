name: Discord ãŠã¯ã‚ˆã† ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸

on:
  schedule:
    # æ¯æ—¥æ—¥æœ¬æ™‚é–“ã®8:00 AM (UTC 23:00) ã«å®Ÿè¡Œ
    - cron: '0 23 * * *'
  workflow_dispatch: # æ‰‹å‹•å®Ÿè¡Œã‚‚å¯èƒ½

jobs:
  send-ohayo-message:
    runs-on: ubuntu-latest
    
    steps:
    - name: Send Discord Message
      run: |
        curl -H "Content-Type: application/json" \
             -X POST \
             -d "{\"content\": \"ãŠã¯ã‚ˆã†ï¼ä»Šæ—¥ã‚‚ä¸€æ—¥é ‘å¼µã‚Šã¾ã—ã‚‡ã†ï¼ ğŸŒ…\"}" \
             "https://discord.com/api/v10/channels/${{ secrets.DISCORD_CHANNEL_ID }}/messages" \
             -H "Authorization: Bot ${{ secrets.DISCORD_BOT_TOKEN }}"
      
    - name: Log completion
      run: echo "ãŠã¯ã‚ˆã†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡ã—ã¾ã—ãŸ $(date)"